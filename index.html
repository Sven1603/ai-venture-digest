<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>AI Venture Digest</title>
    <style>
        * { margin: 0; padding: 0; box-sizing: border-box; }
        body { 
            font-family: -apple-system, BlinkMacSystemFont, 'Segoe UI', Roboto, sans-serif; 
            background: linear-gradient(135deg, #0f172a 0%, #1e293b 100%);
            color: #e2e8f0; 
            line-height: 1.6;
            min-height: 100vh;
        }
        .container { max-width: 900px; margin: 0 auto; padding: 2rem; }
        header { 
            text-align: center; 
            margin-bottom: 3rem;
            padding: 2rem;
            background: rgba(30, 41, 59, 0.5);
            border-radius: 16px;
            border: 1px solid rgba(148, 163, 184, 0.1);
        }
        h1 { 
            font-size: 2.5rem; 
            background: linear-gradient(135deg, #60a5fa 0%, #a78bfa 100%);
            -webkit-background-clip: text;
            -webkit-text-fill-color: transparent;
            margin-bottom: 0.5rem;
        }
        .subtitle { color: #94a3b8; font-size: 1.1rem; }
        .section { 
            margin-bottom: 2.5rem;
            background: rgba(30, 41, 59, 0.6);
            border-radius: 12px;
            padding: 1.5rem;
            border: 1px solid rgba(148, 163, 184, 0.1);
        }
        .section-title { 
            font-size: 1.3rem; 
            color: #60a5fa; 
            margin-bottom: 1rem;
            display: flex;
            align-items: center;
            gap: 0.5rem;
        }
        .section-title .icon { font-size: 1.5rem; }
        
        /* Article Cards with Thumbnails */
        .article-card {
            display: flex;
            gap: 1rem;
            padding: 1rem;
            background: rgba(15, 23, 42, 0.5);
            border-radius: 8px;
            margin-bottom: 1rem;
            transition: transform 0.2s, box-shadow 0.2s;
            border: 1px solid rgba(148, 163, 184, 0.05);
        }
        .article-card:hover {
            transform: translateY(-2px);
            box-shadow: 0 8px 25px rgba(0, 0, 0, 0.3);
            border-color: rgba(96, 165, 250, 0.3);
        }
        .article-thumbnail {
            width: 120px;
            height: 80px;
            border-radius: 6px;
            object-fit: cover;
            background: linear-gradient(135deg, #1e293b 0%, #334155 100%);
            flex-shrink: 0;
        }
        .article-content { flex: 1; min-width: 0; }
        .article-card a { 
            color: #f1f5f9; 
            text-decoration: none;
            font-weight: 500;
            display: block;
            margin-bottom: 0.3rem;
        }
        .article-card a:hover { color: #60a5fa; }
        .article-meta { 
            font-size: 0.8rem; 
            color: #64748b;
            display: flex;
            gap: 0.75rem;
            flex-wrap: wrap;
        }
        .article-description {
            font-size: 0.85rem;
            color: #94a3b8;
            margin-top: 0.4rem;
            display: -webkit-box;
            -webkit-line-clamp: 2;
            -webkit-box-orient: vertical;
            overflow: hidden;
        }
        .category-tag {
            display: inline-block;
            padding: 0.15rem 0.5rem;
            border-radius: 4px;
            font-size: 0.7rem;
            text-transform: uppercase;
            font-weight: 600;
        }
        .tag-video { background: #dc2626; color: white; }
        .tag-podcast { background: #7c3aed; color: white; }
        .tag-tools { background: #059669; color: white; }
        .tag-research { background: #2563eb; color: white; }
        .tag-business { background: #d97706; color: white; }
        .tag-news { background: #475569; color: white; }
        
        /* Challenge Cards */
        .challenge-grid { display: grid; grid-template-columns: repeat(auto-fit, minmax(200px, 1fr)); gap: 1rem; }
        .challenge-card {
            background: linear-gradient(135deg, rgba(96, 165, 250, 0.1) 0%, rgba(167, 139, 250, 0.1) 100%);
            border: 1px solid rgba(96, 165, 250, 0.2);
            border-radius: 8px;
            padding: 1rem;
            cursor: pointer;
            transition: all 0.2s;
        }
        .challenge-card:hover {
            border-color: #60a5fa;
            transform: scale(1.02);
        }
        .challenge-card h4 { color: #60a5fa; margin-bottom: 0.5rem; }
        .challenge-card p { font-size: 0.85rem; color: #94a3b8; }
        
        /* Video Section */
        .video-container {
            position: relative;
            padding-bottom: 56.25%;
            height: 0;
            border-radius: 12px;
            overflow: hidden;
            background: #1e293b;
            margin-bottom: 1rem;
        }
        .video-container iframe {
            position: absolute;
            top: 0; left: 0;
            width: 100%; height: 100%;
            border: none;
        }
        .video-info { 
            padding: 1rem;
            background: rgba(15, 23, 42, 0.5);
            border-radius: 8px;
        }
        .video-list {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(250px, 1fr));
            gap: 1rem;
            margin-top: 1rem;
        }
        .video-card {
            background: rgba(15, 23, 42, 0.5);
            border-radius: 8px;
            overflow: hidden;
            transition: transform 0.2s;
            border: 1px solid rgba(148, 163, 184, 0.05);
        }
        .video-card:hover { transform: translateY(-3px); }
        .video-card img {
            width: 100%;
            height: 140px;
            object-fit: cover;
        }
        .video-card-content {
            padding: 0.75rem;
        }
        .video-card a {
            color: #f1f5f9;
            text-decoration: none;
            font-size: 0.9rem;
            font-weight: 500;
            display: -webkit-box;
            -webkit-line-clamp: 2;
            -webkit-box-orient: vertical;
            overflow: hidden;
        }
        .video-card a:hover { color: #60a5fa; }
        
        /* Podcast Section */
        .podcast-card {
            display: flex;
            align-items: center;
            gap: 1rem;
            padding: 1rem;
            background: rgba(15, 23, 42, 0.5);
            border-radius: 8px;
            margin-bottom: 0.75rem;
            border-left: 3px solid #7c3aed;
            transition: all 0.2s;
        }
        .podcast-card:hover {
            background: rgba(124, 58, 237, 0.1);
        }
        .podcast-icon {
            font-size: 2rem;
            color: #7c3aed;
        }
        .podcast-info { flex: 1; }
        .podcast-info a {
            color: #f1f5f9;
            text-decoration: none;
            font-weight: 500;
        }
        .podcast-info a:hover { color: #a78bfa; }
        .podcast-meta {
            font-size: 0.8rem;
            color: #64748b;
            margin-top: 0.25rem;
        }
        
        /* Tool Spotlight */
        .tool-card {
            background: linear-gradient(135deg, rgba(5, 150, 105, 0.1) 0%, rgba(16, 185, 129, 0.05) 100%);
            border: 1px solid rgba(16, 185, 129, 0.2);
            border-radius: 8px;
            padding: 1.25rem;
        }
        .tool-card h4 { color: #10b981; margin-bottom: 0.5rem; }
        
        /* Archive */
        .archive-toggle {
            background: transparent;
            border: 1px solid #475569;
            color: #94a3b8;
            padding: 0.75rem 1.5rem;
            border-radius: 6px;
            cursor: pointer;
            width: 100%;
            font-size: 1rem;
            transition: all 0.2s;
        }
        .archive-toggle:hover {
            border-color: #60a5fa;
            color: #60a5fa;
        }
        .archive-content { 
            display: none; 
            margin-top: 1rem;
        }
        .archive-content.show { display: block; }
        
        /* Quick Hits */
        .quick-hit {
            padding: 0.75rem 0;
            border-bottom: 1px solid rgba(148, 163, 184, 0.1);
            display: flex;
            gap: 1rem;
            align-items: flex-start;
        }
        .quick-hit:last-child { border-bottom: none; }
        .quick-hit-thumb {
            width: 60px;
            height: 45px;
            border-radius: 4px;
            object-fit: cover;
            flex-shrink: 0;
        }
        .quick-hit a { color: #e2e8f0; text-decoration: none; font-size: 0.95rem; }
        .quick-hit a:hover { color: #60a5fa; }
        .quick-hit .source { color: #64748b; font-size: 0.8rem; margin-top: 0.2rem; }
        
        .loading { text-align: center; padding: 3rem; color: #64748b; }
        .stats { 
            display: flex; 
            gap: 2rem; 
            justify-content: center;
            margin-top: 1rem;
            font-size: 0.9rem;
            color: #64748b;
        }
        .stat-item { text-align: center; }
        .stat-value { font-size: 1.5rem; color: #60a5fa; font-weight: bold; }
    </style>
</head>
<body>
    <div class="container">
        <header>
            <h1>AI Venture Digest</h1>
            <p class="subtitle">Your 30-minute morning briefing</p>
            <p class="subtitle" id="date"></p>
            <div class="stats" id="stats"></div>
        </header>
        
        <section class="section" id="challenges">
            <h2 class="section-title"><span class="icon">üéØ</span> Pick Today's Challenge</h2>
            <div class="challenge-grid" id="challenge-list"></div>
        </section>
        
        <section class="section" id="top5">
            <h2 class="section-title"><span class="icon">üì∞</span> Top 5 Must-Reads</h2>
            <div id="top5-list"></div>
        </section>
        
        <section class="section" id="video">
            <h2 class="section-title"><span class="icon">üé¨</span> Watch & Learn</h2>
            <div id="video-content"></div>
        </section>
        
        <section class="section" id="podcasts">
            <h2 class="section-title"><span class="icon">üéß</span> Listen Up - Podcast Picks</h2>
            <div id="podcast-list"></div>
        </section>
        
        <section class="section" id="quickhits">
            <h2 class="section-title"><span class="icon">‚ö°</span> Quick Hits</h2>
            <div id="quickhits-list"></div>
        </section>
        
        <section class="section" id="tool">
            <h2 class="section-title"><span class="icon">üõ†Ô∏è</span> Tool Spotlight</h2>
            <div id="tool-content"></div>
        </section>
        
        <section class="section">
            <button class="archive-toggle" onclick="toggleArchive()">üìö View Full Archive</button>
            <div class="archive-content" id="archive-list"></div>
        </section>
    </div>
    
    <script>
        const defaultThumb = 'data:image/svg+xml,<svg xmlns="http://www.w3.org/2000/svg" width="120" height="80" viewBox="0 0 120 80"><rect fill="%231e293b" width="120" height="80"/><text fill="%2364748b" font-family="sans-serif" font-size="12" x="50%" y="50%" dominant-baseline="middle" text-anchor="middle">AI</text></svg>';
        
        async function loadData() {
            document.getElementById('date').textContent = new Date().toLocaleDateString('en-US', { 
                weekday: 'long', year: 'numeric', month: 'long', day: 'numeric' 
            });
            
            try {
                const response = await fetch('data/articles.json');
                const data = await response.json();
                renderPage(data);
            } catch (error) {
                console.error('Error loading data:', error);
                document.getElementById('top5-list').innerHTML = '<p class="loading">Unable to load articles. Please try again later.</p>';
            }
        }
        
        function renderPage(data) {
            const articles = data.articles || [];
            
            // Stats
            document.getElementById('stats').innerHTML = `
                <div class="stat-item"><div class="stat-value">${articles.length}</div>Articles</div>
                <div class="stat-item"><div class="stat-value">${data.video_count || 0}</div>Videos</div>
                <div class="stat-item"><div class="stat-value">${data.podcast_count || 0}</div>Podcasts</div>
            `;
            
            // Challenges
            const challenges = [
                { title: "Build Something", desc: "Find a tool and create a quick prototype", filter: "tools" },
                { title: "Deep Dive", desc: "Read one research paper in full", filter: "research" },
                { title: "Watch & Learn", desc: "Complete a video tutorial", filter: "video" },
                { title: "Business Angle", desc: "Analyze an AI startup's strategy", filter: "business" }
            ];
            document.getElementById('challenge-list').innerHTML = challenges.map(c => `
                <div class="challenge-card" onclick="scrollToCategory('${c.filter}')">
                    <h4>${c.title}</h4>
                    <p>${c.desc}</p>
                </div>
            `).join('');
            
            // Top 5 (excluding videos and podcasts)
            const top5 = articles.filter(a => a.category !== 'video' && a.category !== 'podcast').slice(0, 5);
            document.getElementById('top5-list').innerHTML = top5.map((a, i) => `
                <div class="article-card">
                    <img class="article-thumbnail" src="${a.thumbnail || defaultThumb}" alt="" onerror="this.src='${defaultThumb}'">
                    <div class="article-content">
                        <a href="${a.url}" target="_blank">${i + 1}. ${a.title}</a>
                        <div class="article-meta">
                            <span>${a.source}</span>
                            <span class="category-tag tag-${a.category}">${a.category}</span>
                        </div>
                        ${a.description ? `<p class="article-description">${a.description}</p>` : ''}
                    </div>
                </div>
            `).join('');
            
            // Videos
            const videos = articles.filter(a => a.category === 'video').slice(0, 5);
            if (videos.length > 0) {
                const mainVideo = videos[0];
                const videoId = extractYouTubeId(mainVideo.video_url || mainVideo.url);
                document.getElementById('video-content').innerHTML = `
                    ${videoId ? `
                        <div class="video-container">
                            <iframe src="https://www.youtube.com/embed/${videoId}" allowfullscreen></iframe>
                        </div>
                    ` : ''}
                    <div class="video-info">
                        <a href="${mainVideo.url}" target="_blank" style="color: #f1f5f9; text-decoration: none; font-weight: 500;">${mainVideo.title}</a>
                        <p style="color: #64748b; font-size: 0.85rem; margin-top: 0.25rem;">${mainVideo.source}</p>
                    </div>
                    ${videos.length > 1 ? `
                        <div class="video-list">
                            ${videos.slice(1).map(v => `
                                <div class="video-card">
                                    <img src="${v.thumbnail || defaultThumb}" alt="" onerror="this.src='${defaultThumb}'">
                                    <div class="video-card-content">
                                        <a href="${v.url}" target="_blank">${v.title}</a>
                                        <p style="color: #64748b; font-size: 0.75rem; margin-top: 0.25rem;">${v.source}</p>
                                    </div>
                                </div>
                            `).join('')}
                        </div>
                    ` : ''}
                `;
            } else {
                document.getElementById('video-content').innerHTML = '<p style="color: #64748b;">No videos available today. Check back tomorrow!</p>';
            }
            
            // Podcasts
            const podcasts = articles.filter(a => a.category === 'podcast').slice(0, 3);
            if (podcasts.length > 0) {
                document.getElementById('podcast-list').innerHTML = podcasts.map(p => `
                    <div class="podcast-card">
                        <div class="podcast-icon">üéôÔ∏è</div>
                        <div class="podcast-info">
                            <a href="${p.url}" target="_blank">${p.title}</a>
                            <div class="podcast-meta">
                                ${p.source}${p.podcast_duration ? ` ‚Ä¢ ${p.podcast_duration}` : ''}
                            </div>
                        </div>
                    </div>
                `).join('');
            } else {
                document.getElementById('podcast-list').innerHTML = '<p style="color: #64748b;">No podcast episodes today. Check back tomorrow!</p>';
            }
            
            // Quick Hits
            const quickhits = articles.filter(a => a.category !== 'video' && a.category !== 'podcast').slice(5, 12);
            document.getElementById('quickhits-list').innerHTML = quickhits.map(a => `
                <div class="quick-hit">
                    <img class="quick-hit-thumb" src="${a.thumbnail || defaultThumb}" alt="" onerror="this.src='${defaultThumb}'">
                    <div>
                        <a href="${a.url}" target="_blank">${a.title}</a>
                        <div class="source">${a.source}</div>
                    </div>
                </div>
            `).join('');
            
            // Tool Spotlight
            const tools = articles.filter(a => a.category === 'tools');
            if (tools.length > 0) {
                const tool = tools[0];
                document.getElementById('tool-content').innerHTML = `
                    <div class="tool-card">
                        <h4><a href="${tool.url}" target="_blank" style="color: #10b981; text-decoration: none;">${tool.title}</a></h4>
                        <p style="color: #94a3b8; font-size: 0.9rem;">${tool.description || 'Check out this AI tool!'}</p>
                        <p style="color: #64748b; font-size: 0.8rem; margin-top: 0.5rem;">Source: ${tool.source}</p>
                    </div>
                `;
            }
            
            // Archive
            document.getElementById('archive-list').innerHTML = articles.slice(12).map(a => `
                <div class="quick-hit">
                    <img class="quick-hit-thumb" src="${a.thumbnail || defaultThumb}" alt="" onerror="this.src='${defaultThumb}'">
                    <div>
                        <a href="${a.url}" target="_blank">${a.title}</a>
                        <div class="source">${a.source} ‚Ä¢ <span class="category-tag tag-${a.category}">${a.category}</span></div>
                    </div>
                </div>
            `).join('');
        }
        
        function extractYouTubeId(url) {
            if (!url) return null;
            const match = url.match(/(?:youtube\.com\/watch\?v=|youtu\.be\/|youtube\.com\/embed\/)([a-zA-Z0-9_-]+)/);
            return match ? match[1] : null;
        }
        
        function toggleArchive() {
            document.getElementById('archive-list').classList.toggle('show');
        }
        
        function scrollToCategory(cat) {
            const sectionMap = { 'video': 'video', 'research': 'top5', 'tools': 'tool', 'business': 'top5' };
            const section = document.getElementById(sectionMap[cat] || 'top5');
            section.scrollIntoView({ behavior: 'smooth' });
        }
        
        loadData();
    </script>
</body>
</html>
